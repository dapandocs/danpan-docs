import{_ as A,a as D}from"./chunks/CopyRight.vue_vue_type_script_setup_true_lang.67549825.js";import{r as l,j as a,a as E}from"./chunks/jsx-runtime.489a0d3a.js";import{m as e}from"./chunks/index.b0ad1619.js";import{C as f}from"./chunks/index.ce9b523d.js";import{B as t}from"./chunks/EllipsisOutlined.5d421715.js";import{b as q}from"./chunks/baseIsEqual.1073ee2f.js";import{S as v}from"./chunks/index.86888617.js";import{h as y,C as d,o as C,c as k,k as i,b as _,w as u,a0 as I,H as c,Q as r,a as S}from"./chunks/framework.27021b64.js";import"./chunks/commonjsHelpers.725317a4.js";import"./chunks/CloseOutlined.9c3246b4.js";import"./chunks/CloseCircleFilled.901bf2d5.js";import"./chunks/Serializer.fad5b415.js";import"./chunks/getTag.55064484.js";import"./chunks/isObjectLike.46b91259.js";function x(s,n){return q(s,n)}function j(){const[s,n]=l.useState({name:"John",age:25});l.useEffect(()=>{e.info("useEffect has run due to userInfo object reference change.")},[s]);const p=()=>{n({...s})};return a.jsxs(f,{title:"案例 demo",children:[a.jsx("pre",{children:JSON.stringify(s,null,2)}),a.jsx(t,{onClick:p,type:"primary",children:"change userInfo"})]})}const F={name:"John",age:25};function T(){const[s,n]=l.useState(0);l.useEffect(()=>{e.info("useEffect has run due to userInfo object reference change.")},[F]);const p=()=>{n(s+1),F.age=F.age+1};return a.jsxs(f,{title:"案例 demo",children:[a.jsxs("p",{children:["count: ",s]}),a.jsx(t,{onClick:p,type:"primary",children:"change userInfo"})]})}const U=(s,n)=>{const p=l.useRef(),o=l.useRef(0);(n===void 0||!x(n,p.current))&&(p.current=n,o.current+=1),l.useEffect(s,[o.current])};function P(){const[s,n]=l.useState({name:"John",age:25});l.useEffect(()=>{e.info("useEffect has run due to userInfo object value change.")},[s]),l.useEffect(()=>{e.info("useEffect JSON.stringify has run due to userInfo object value change.")},[JSON.stringify(s)]),U(()=>{e.info("useDeepCompareEffect has run due to userInfo object value change.")},[s]);const p=()=>{n({...s})},o=()=>{n({...s,age:s.age+1})};return a.jsxs(f,{title:"案例 demo",children:[a.jsx("pre",{children:JSON.stringify(s,null,2)}),a.jsxs(v,{children:[a.jsx(t,{onClick:p,type:"primary",children:"深拷贝useInfo"}),a.jsx(t,{onClick:o,type:"primary",children:"age+1"})]})]})}function R(){const[s,n]=l.useState(0);return l.useEffect(()=>(e.info(`Effect for count: ${s}`),()=>{e.info(`Cleanup for count: ${s}`)}),[s]),a.jsxs(f,{title:"案例 demo",children:[a.jsxs("p",{children:["Count: ",s]}),a.jsx(t,{onClick:()=>n(s+1),type:"primary",children:"change count"})]})}const w=r("",25),J=r("",11),N=r("",3),O=r("",7),V=r("",2),os=JSON.parse('{"title":"React Hooks 系列 之 useEffect","description":"","frontmatter":{},"headers":[],"relativePath":"framework/react/hooks/use-effect.md","filePath":"framework/react/hooks/use-effect.md","lastUpdated":1691561959000}'),$={name:"framework/react/hooks/use-effect.md"},es=Object.assign($,{setup(s){const n=y(null),p=y(null),o=y(null),b=y(null);return E(j,n),E(T,p),E(P,o),E(R,b),(H,G)=>{const g=d("Mermaid"),h=A,m=d("ClientOnly"),B=D;return C(),k("div",null,[w,i("div",{ref_key:"useEffect4",ref:b},null,512),J,i("div",{ref_key:"useEffect1",ref:n},null,512),N,i("div",{ref_key:"useEffect2",ref:p},null,512),O,i("div",{ref_key:"useEffect3",ref:o},null,512),V,(C(),_(I,null,{default:u(()=>[c(g,{id:"mermaid-148",class:"eita",graph:"graph%20TD%0AA%5B%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93%5D%20--%3E%20B%5B%E8%B0%83%E7%94%A8%20useEffect%5D%0AB%20--%3E%20C%5BpushEffect%20-%20%E5%B0%86%E5%89%AF%E4%BD%9C%E7%94%A8%E5%92%8C%E4%BE%9D%E8%B5%96%E6%B7%BB%E5%8A%A0%E5%88%B0%E9%98%9F%E5%88%97%5D%0AC%20--%3E%20D%5B%E6%A3%80%E6%9F%A5%E4%BE%9D%E8%B5%96%20-%20areHookInputsEqual%5D%0AD%20--%3E%7C%E4%BE%9D%E8%B5%96%E6%9C%AA%E5%8F%98%E5%8C%96%7C%20E%5B%E8%B7%B3%E8%BF%87%E5%89%AF%E4%BD%9C%E7%94%A8%5D%0AD%20--%3E%7C%E4%BE%9D%E8%B5%96%E5%8F%98%E5%8C%96%7C%20F%5B%E6%89%A7%E8%A1%8C%E5%89%AF%E4%BD%9C%E7%94%A8%20-%20commitHookEffectList%5D%0AF%20--%3E%20G%5B%E8%BF%94%E5%9B%9E%E6%B8%85%E9%99%A4%E5%87%BD%E6%95%B0%3F%5D%0AG%20--%3E%7C%E6%98%AF%7C%20H%5B%E4%B8%8B%E6%AC%A1%20effect%20%E6%88%96%E7%BB%84%E4%BB%B6%E5%8D%B8%E8%BD%BD%E6%97%B6%E6%89%A7%E8%A1%8C%E6%B8%85%E9%99%A4%E5%87%BD%E6%95%B0%20-%20runEffectWithCleanUp%5D%0AG%20--%3E%7C%E5%90%A6%7C%20I%5B%E4%B8%8D%E6%89%A7%E8%A1%8C%E6%B8%85%E9%99%A4%E6%93%8D%E4%BD%9C%5D%0A"})]),fallback:u(()=>[S(" Loading... ")]),_:1})),c(m,null,{default:u(()=>[c(h)]),_:1}),c(m,null,{default:u(()=>[c(B)]),_:1})])}}});export{os as __pageData,es as default};
